<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 848.5 708" width="100%" height="100%"><style>.edge text,.node text{font-family:Inter,sans-serif;font-size:11px}.edge text{font-size:10px}</style><g id="graph0" style="font-family:Inter,sans-serif" transform="translate(36 672)"><text x="388.25" y="-619.2" font-family="Arial Bold" font-size="16" text-anchor="middle">Canonical Contracts (v1)</text><text x="388.25" y="-601.2" font-family="Arial Bold" font-size="16" text-anchor="middle">Standardized Data Flow Between Components</text><g id="node1" class="node"><path fill="#3498db" stroke="#2e86ab" stroke-width="1.5" d="M125-563.5H12c-6 0-12 6-12 12v12c0 6 6 12 12 12h113c6 0 12-6 12-12v-12c0-6-6-12-12-12"/><text x="68.5" y="-548.7" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">CET</text><text x="68.5" y="-536.7" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">(Context Engineering)</text></g><g id="node6" class="node"><path fill="#ecf0f1" stroke="#2e86ab" stroke-width="1.5" d="M310.5-592h-138v93h144v-87z"/><path fill="none" stroke="#2e86ab" stroke-width="1.5" d="M310.5-592v6M316.5-586h-6"/><text x="244.5" y="-579.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">Structured Context</text><text x="244.5" y="-554.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• context_id (ULID)</text><text x="244.5" y="-542.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• task_id</text><text x="244.5" y="-530.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• problem_frame</text><text x="244.5" y="-518.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• features</text><text x="244.5" y="-506.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• world_refs</text></g><g id="node2" class="node"><path fill="#e74c3c" stroke="#2e86ab" stroke-width="1.5" d="M276-427.5h-63c-6 0-12 6-12 12v12c0 6 6 12 12 12h63c6 0 12-6 12-12v-12c0-6-6-12-12-12"/><text x="244.5" y="-406.7" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">Rules Engine</text></g><g id="node7" class="node"><path fill="#ecf0f1" stroke="#2e86ab" stroke-width="1.5" d="M461.5-450h-138v81h144v-75z"/><path fill="none" stroke="#2e86ab" stroke-width="1.5" d="M461.5-450v6M467.5-444h-6"/><text x="395.5" y="-437.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">Rule Engine Output</text><text x="395.5" y="-412.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• rule_output_id</text><text x="395.5" y="-400.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• status</text><text x="395.5" y="-388.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• matches</text><text x="395.5" y="-376.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• guardrails_triggered</text></g><g id="node3" class="node"><path fill="#f39c12" stroke="#2e86ab" stroke-width="1.5" d="M423-291.5h-55c-6 0-12 6-12 12v12c0 6 6 12 12 12h55c6 0 12-6 12-12v-12c0-6-6-12-12-12"/><text x="395.5" y="-276.7" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">DER</text><text x="395.5" y="-264.7" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">(Synthesis)</text></g><g id="node8" class="node"><path fill="#ecf0f1" stroke="#2e86ab" stroke-width="1.5" d="M608.5-320h-138v93h144v-87z"/><path fill="none" stroke="#2e86ab" stroke-width="1.5" d="M608.5-320v6M614.5-314h-6"/><text x="542.5" y="-307.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">Decision Package</text><text x="542.5" y="-282.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• decision_id</text><text x="542.5" y="-270.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• selected_action</text><text x="542.5" y="-258.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• safety_assertions</text><text x="542.5" y="-246.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• confidence_score</text><text x="542.5" y="-234.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• reasoning_trace_ref</text></g><g id="node10" class="node"><path fill="#ecf0f1" stroke="#2e86ab" stroke-width="1.5" d="M770.5-314h-138v81h144v-75z"/><path fill="none" stroke="#2e86ab" stroke-width="1.5" d="M770.5-314v6M776.5-308h-6"/><text x="704.5" y="-301.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">Reasoning Trace</text><text x="704.5" y="-276.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• trace_id</text><text x="704.5" y="-264.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• decision_id</text><text x="704.5" y="-252.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• DAG structure</text><text x="704.5" y="-240.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">(audit &amp; replay)</text></g><g id="edge9" class="edge"><path fill="none" stroke="#9b59b6" stroke-dasharray="5,2" stroke-width="1.5" d="M395.5-255.46V-202H677v-20.74"/><path fill="#9b59b6" stroke="#9b59b6" stroke-width="1.5" d="m673.5-222.74 3.5-10 3.5 10z"/><text x="533.5" y="-342" font-family="Inter, sans-serif" font-size="10" text-anchor="middle">audit</text></g><g id="node4" class="node"><path fill="#27ae60" stroke="#2e86ab" stroke-width="1.5" d="M530-149.5h-65c-6 0-12 6-12 12v12c0 6 6 12 12 12h65c6 0 12-6 12-12v-12c0-6-6-12-12-12"/><text x="497.5" y="-134.7" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">Doing Engine</text><text x="497.5" y="-122.7" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">(Execution)</text></g><g id="node9" class="node"><path fill="#ecf0f1" stroke="#2e86ab" stroke-width="1.5" d="M715.5-178h-138v93h144v-87z"/><path fill="none" stroke="#2e86ab" stroke-width="1.5" d="M715.5-178v6M721.5-172h-6"/><text x="649.5" y="-165.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">Execution Outcome</text><text x="649.5" y="-140.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• outcome_id</text><text x="649.5" y="-128.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• status</text><text x="649.5" y="-116.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• observed_effects</text><text x="649.5" y="-104.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• deviations</text><text x="649.5" y="-92.2" fill="#2c3e50" font-family="Arial" font-size="11" text-anchor="middle">• world_version_id</text></g><g id="node5" class="node"><path fill="#9b59b6" stroke="#2e86ab" stroke-width="1.5" d="M736.5-36h-74c-6 0-12 6-12 12v12c0 6 6 12 12 12h74c6 0 12-6 12-12v-12c0-6-6-12-12-12"/><text x="699.5" y="-21.2" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">State Manager</text><text x="699.5" y="-9.2" fill="#fff" font-family="Arial" font-size="11" text-anchor="middle">(Memory)</text></g><g id="edge2" class="edge"><path fill="none" stroke="#3498db" stroke-width="2" d="M244.5-498.7v61.01"/><path fill="#3498db" stroke="#3498db" stroke-width="2" d="m248-437.69-3.5 10-3.5-10z"/><text x="247.5" y="-471.4" font-family="Inter, sans-serif" font-size="12" text-anchor="middle">1</text></g><g id="edge4" class="edge"><path fill="none" stroke="#e74c3c" stroke-width="2" d="M395.5-368.7v67.1"/><path fill="#e74c3c" stroke="#e74c3c" stroke-width="2" d="m399-301.6-3.5 10-3.5-10z"/><text x="399.5" y="-341.4" font-family="Inter, sans-serif" font-size="12" text-anchor="middle">2</text></g><g id="edge6" class="edge"><path fill="none" stroke="#f39c12" stroke-width="2" d="M506.25-226.61v67"/><path fill="#f39c12" stroke="#f39c12" stroke-width="2" d="m509.75-159.61-3.5 10-3.5-10z"/><text x="524.5" y="-199.4" font-family="Inter, sans-serif" font-size="12" text-anchor="middle">3</text></g><g id="edge8" class="edge"><path fill="none" stroke="#27ae60" stroke-width="2" d="M686-84.68v38.55"/><path fill="#27ae60" stroke="#27ae60" stroke-width="2" d="m689.5-46.13-3.5 10-3.5-10z"/><text x="692.5" y="-57.4" font-family="Inter, sans-serif" font-size="12" text-anchor="middle">4</text></g><g id="edge10" class="edge"><path fill="none" stroke="#9b59b6" stroke-dasharray="5,2" stroke-width="1.5" d="M735-232.73v186.49"/><path fill="#9b59b6" stroke="#9b59b6" stroke-width="1.5" d="m738.5-46.24-3.5 10-3.5-10z"/></g></g></svg>